<!doctype html>
<!-- version 1.00 06/28/19 -->
<html>
    <head>
        <meta charset="utf-8">
        <meta name="author" content="Gary Wang">
        <meta name="description" content="Gary Wang Photography Portfolio">
        <meta name="viewport" content="width=device-width,initial-scale=1.0">
        <title>Gary Wang Photography</title>
        <link rel="icon" href="img/project_modernOrientalism/resized/2.jpg">
        <link rel="stylesheet" href="style.css">
        <link href="https://fonts.googleapis.com/css?family=Cutive+Mono" rel="stylesheet">
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-141256515-2"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());

            gtag('config', 'UA-141256515-2');
        </script>
        <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
    </head>
<!-- how to add a new body of work -->
    <!-- edit & resize for sidemar image, gallery images (optimize and compress), and thumbnail immages -->
    <!-- add div to sidebar for navigation, include sidebar image -->
    <!-- add gallery div, with one starting image and square images -->
    <!-- update project tracker and index tracker in JS -->
    <!-- update switch statement for refreshing sidebar -->
    <!-- update switch statement in updateImg function -->
    <body>
<!--navigation-->
        <div id="sidebar">
            <h1 id="myName">
                <a class="closeAll" href="#home">GARY<br>WANG</a>
                 <link href="https://fonts.googleapis.com/css?family=Cutive+Mono" rel="stylesheet">
            </h1>
            <div id="nav">
                <div id="nav-images">
                    <div id="inebriate-STL-tn" data-index = '1' data-project="inebriate-STL" class="sidebar-img-div">
                        <img class="sidebar-img" src="img/7.jpg">
                        <p class="img-name"><a href="#inebriate-STL">inebriate stl</a></p>
                    </div>
                    <div id="out-there-tn" data-index = '2' data-project="out-there" class="sidebar-img-div">
                        <img class="sidebar-img" src="img/1.jpg">
                        <p class="img-name"><a href="#out-there">out there</a></p>
                    </div>
                    <div id="a-family-affair-tn" data-index = '3' data-project="a-family-affair" class="sidebar-img-div">
                        <img class="sidebar-img" src="img/2.jpg">
                        <p class="img-name"><a href="#a-family-affair">a family affair</a></p>
                    </div>
                    <div id="nyc-on-film-tn" data-index = '4' data-project="nyc-on-film" class="sidebar-img-div">
                        <img class="sidebar-img" src="img/3.jpg">
                        <p class="img-name"><a href="#nyc-on-film">nyc on film</a></p>
                    </div>
                    <div id="modern-orientalism-tn" data-index = '5' data-project="modern-orientalism" class="sidebar-img-div">
                        <img class="sidebar-img" src="img/4.jpg">
                        <p class="img-name"><a href="#modern-orientalism">modern orientalism</a></p>
                    </div>
                    <div id="colorado-tn" data-index = '6' data-project="colorado" class="sidebar-img-div">
                        <img class="sidebar-img" src="img/5.jpg">
                        <p class="img-name"><a href="#colorado">colorado</a></p>
                    </div>
                    <div id="botanic-daydream-tn" data-index = '7' data-project="botanic-daydream" class="sidebar-img-div">
                        <img class="sidebar-img" src="img/6.jpg">
                        <p class="img-name"><a href="#botanic-daydream">botanic daydream</a></p>
                    </div>
                </div>
                <p id="about-contact"><a class="closeAll" href="#about">about</a> | <a class="closeAll" href="#contact">contact</a></p>
            </div>   
        </div>
<!--homepage-->
        <div id="home" class="gallery">
            <div class="images">
                <img src="img/project_outThere/10.jpg">
            </div>
            <p id="copyright">Â© 2019 Gary Wang</p>
        </div>
<!--gallery-->
        <div id="gallery">   
            <div id="inebriate-STL" class="gallery">
                <div class="images">
                    <img id="inebriate-STL-image" src="img/project_inebriateSTL/1.jpg">
                </div>
                <div class="thumbnails">
                    <img src="img/project_inebriateSTL/resized/1.jpg">
                    <img src="img/project_inebriateSTL/resized/2.jpg">
                    <img src="img/project_inebriateSTL/resized/3.jpg">
                    <img src="img/project_inebriateSTL/resized/4.jpg">
                    <img src="img/project_inebriateSTL/resized/5.jpg">
                    <img src="img/project_inebriateSTL/resized/6.jpg">
                    <img src="img/project_inebriateSTL/resized/7.jpg">
                    <img src="img/project_inebriateSTL/resized/8.jpg">
                    <img src="img/project_inebriateSTL/resized/9.jpg">
                    <img src="img/project_inebriateSTL/resized/10.jpg">
                    <img src="img/project_inebriateSTL/resized/11.jpg">
                    <img src="img/project_inebriateSTL/resized/12.jpg">
                    <img src="img/project_inebriateSTL/resized/13.jpg">
                    <img src="img/project_inebriateSTL/resized/14.jpg">
                    <img src="img/project_inebriateSTL/resized/15.jpg">
                    <img src="img/project_inebriateSTL/resized/16.jpg">
                    <img src="img/project_inebriateSTL/resized/17.jpg">
                    <img src="img/project_inebriateSTL/resized/18.jpg">
                    <img src="img/project_inebriateSTL/resized/19.jpg">
                    <img src="img/project_inebriateSTL/resized/20.jpg">
                    <img src="img/project_inebriateSTL/resized/21.jpg">
                    <img src="img/project_inebriateSTL/resized/22.jpg">
                    <img src="img/project_inebriateSTL/resized/23.jpg">
                    <img src="img/project_inebriateSTL/resized/24.jpg">
                    <img src="img/project_inebriateSTL/resized/25.jpg">
                </div>
            </div> 
            <div id="out-there" class="gallery">
                <div class="images">
                    <img id="out-there-image" src="img/project_outThere/1.jpg">
                </div>
                <div class="thumbnails">
                    <img src="img/project_outThere/resized/1.jpg">
                    <img src="img/project_outThere/resized/2.jpg">
                    <img src="img/project_outThere/resized/3.jpg">
                    <img src="img/project_outThere/resized/4.jpg">
                    <img src="img/project_outThere/resized/5.jpg">
                    <img src="img/project_outThere/resized/6.jpg">
                    <img src="img/project_outThere/resized/7.jpg">
                    <img src="img/project_outThere/resized/8.jpg">
                    <img src="img/project_outThere/resized/9.jpg">
                    <img src="img/project_outThere/resized/10.jpg">
                    <img src="img/project_outThere/resized/11.jpg">
                </div>
            </div>
            <div id="a-family-affair" class="gallery">
                <div class="images">
                    <img id="a-family-affair-image" src="img/project_aFamilyAffair/1.jpg">
                </div>
                <div class="thumbnails">
                    <img src="img/project_aFamilyAffair/resized/1.jpg">
                    <img src="img/project_aFamilyAffair/resized/2.jpg">
                    <img src="img/project_aFamilyAffair/resized/3.jpg">
                    <img src="img/project_aFamilyAffair/resized/4.jpg">
                    <img src="img/project_aFamilyAffair/resized/5.jpg">
                    <img src="img/project_aFamilyAffair/resized/6.jpg">
                </div>
            </div>
             <div id="nyc-on-film" class="gallery">
                <div class="images">
                    <img id="nyc-on-film-image" src="img/project_nycFilm/1.jpg">
                </div>
                <div class="thumbnails">
                    <img src="img/project_nycFilm/resized/1.jpg">
                    <img src="img/project_nycFilm/resized/2.jpg">
                    <img src="img/project_nycFilm/resized/3.jpg">
                    <img src="img/project_nycFilm/resized/4.jpg">
                    <img src="img/project_nycFilm/resized/5.jpg">
                    <img src="img/project_nycFilm/resized/6.jpg">
                    <img src="img/project_nycFilm/resized/7.jpg">
                    <img src="img/project_nycFilm/resized/8.jpg">
                    <img src="img/project_nycFilm/resized/9.jpg">
                </div>
            </div>
             <div id="modern-orientalism" class="gallery">
                <div class="images">
                    <img id="modern-orientalism-image" src="img/project_modernOrientalism/1.jpg">
                </div>
                <div class="thumbnails">
                    <img src="img/project_modernOrientalism/resized/1.jpg">
                    <img src="img/project_modernOrientalism/resized/2.jpg">
                    <img src="img/project_modernOrientalism/resized/3.jpg">
                    <img src="img/project_modernOrientalism/resized/4.jpg">
                    <img src="img/project_modernOrientalism/resized/5.jpg">
                    <img src="img/project_modernOrientalism/resized/6.jpg">
                    <img src="img/project_modernOrientalism/resized/7.jpg">
                    <img src="img/project_modernOrientalism/resized/8.jpg">
                    <img src="img/project_modernOrientalism/resized/9.jpg">
                    <img src="img/project_modernOrientalism/resized/10.jpg">
                    <img src="img/project_modernOrientalism/resized/11.jpg">
                    <img src="img/project_modernOrientalism/resized/12.jpg">
                    <img src="img/project_modernOrientalism/resized/13.jpg">
                    <img src="img/project_modernOrientalism/resized/14.jpg">
                    <img src="img/project_modernOrientalism/resized/15.jpg">
                    <img src="img/project_modernOrientalism/resized/16.jpg">
                    <img src="img/project_modernOrientalism/resized/17.jpg">
                    <img src="img/project_modernOrientalism/resized/18.jpg">
                    <img src="img/project_modernOrientalism/resized/19.jpg">
                </div>
            </div>
            <div id="colorado" class="gallery">
                <div class="images">
                    <img id="colorado-image" src="img/project_colorado/1.jpg">
                </div>
                <div class="thumbnails">
                    <img src="img/project_colorado/resized/1.jpg">
                    <img src="img/project_colorado/resized/2.jpg">
                    <img src="img/project_colorado/resized/3.jpg">
                    <img src="img/project_colorado/resized/4.jpg">
                    <img src="img/project_colorado/resized/5.jpg">
                    <img src="img/project_colorado/resized/6.jpg">
                    <img src="img/project_colorado/resized/7.jpg">
                    <img src="img/project_colorado/resized/8.jpg">
                    <img src="img/project_colorado/resized/9.jpg">
                    <img src="img/project_colorado/resized/10.jpg">
                    <img src="img/project_colorado/resized/11.jpg">
                    <img src="img/project_colorado/resized/12.jpg">
                </div>
            </div>
            <div id="botanic-daydream" class="gallery">
                <div class="images">
                    <img id="botanic-daydream-image" src="img/project_botanicDaydream/1.jpg">
                </div>
                <div class="thumbnails">
                    <img src="img/project_botanicDaydream/resized/1.jpg">
                    <img src="img/project_botanicDaydream/resized/2.jpg">
                    <img src="img/project_botanicDaydream/resized/3.jpg">
                </div>
            </div>
        </div>
<!--information-->
        <div id="about" class="gallery closeALl">
            <div class="info">
                <h2>
                    About
                </h2>
                <p>
                    sometimes I take photos of moments I wamt to keep. 
                    otherwise I take photos as a means of being an artist. 
                    my aspiration is to some day have those intentions be one and the same. 
                    for my practice, this space acts as an exercise in work curation and web design.
                </p>
                <p>
                    thank you
                </p>
                <p>
                    & come find me in Chicago
                </p>
            </div>
        </div>
        <div id="contact" class="gallery closeAll">
            <div class="info">
                <h2>
                    Contact
                </h2>
                <p>
                    phone: 863-669-6650
                </p>
                <p>
                    email: <a href="mailto: garywang1210@gmail.com">garywang1210@gmail.com</a>
                </p>
                <p>
                    instagram: <a href="https://www.instagram.com/golfwangphoto/" target="_blank">golfwangphoto</a>
                </p>
            </div>
        </div>
    </body>
<!--body ends here-->
    <script type="text/javascript">
        //on page load
        //image gallery interaction
        var projectLength = [25,11,6,9,19,12,3];
        var indexTracker = [1,1,1,1,1,1,1];
        var projectTracker = 0;
        //get trackers from local storage
        projectTracker = localStorage.getItem("projectTrackerKey");
        refreshGallery();
        function refreshSidebar(img){
            child = img.children[0];
            $(child).animate({
                left: "-65%"
            },300);
            caption = img.children[1];
            $(caption).fadeIn('slow');
        }
        switch(projectTracker) {
            case '1':
                // code block
                img = document.getElementById('inebriate-STL-tn');
                refreshSidebar(img);
                break;
            case '2':
                // code block
                img = document.getElementById('out-there-tn');
                refreshSidebar(img);
                break;
            case '3':
                // code block
                img = document.getElementById('a-family-affair-tn');
                refreshSidebar(img);
                break;
            case '4':
                // code block
                img = document.getElementById('nyc-on-film-tn');
                refreshSidebar(img);
                break;
            case '5':
                // code block
                img = document.getElementById('modern-orientalism-tn');
                refreshSidebar(img);
                break;
            case '6':
                // code block
                img = document.getElementById('colorado-tn');
                refreshSidebar(img);
                break;
            case '7':
                // code block
                img = document.getElementById('botanic-daydream-tn');
                refreshSidebar(img);
                break;
            default:
        }
        refreshGallery();
        function refreshGallery(){
            var current = window.location.href.substring(33);
            //var current = window.location.href.substring(73);
            if(current === "" || current == "about" || current == "contact" || current.length > 33){
                click2();
            }
        }
//mobile, nav scroll interactions
        var animated = false;
        var nav = document.getElementById("nav");
        function navInteraction(){
            nav.addEventListener("scroll", navScroll);
        }
        function navScroll(){
            var navY = nav.scrollTop;
            if(navY < 60 && animated){
                //check if animated
                $(nav).animate({
                    top: "0"
                },150);
                animated = !animated;
            }
            if(navY >= 120 && !animated){
                //check if animated
                $(nav).animate({
                    top: "-48"
                },300);
                animated = !animated;
            }
        }
//responsive    
        //gallery interaction depending on viewport size
        if(window.innerWidth > 600){
            //implement cursor click navigation for desktop
            $( ".gallery" ).mousemove(function( event ) {
                var div = document.querySelector('.gallery');
                var divOffset = offset(div);
                var mouseX = event.pageX ;
                var mouseY = event.clientY ;
                var right = divOffset.right;
                var left = divOffset.left;
                var divide = (right + left)/2;
                var h = window.innerHeight*0.8;
                if (mouseX >= divide && mouseY<h){
                    document.getElementById("gallery").style.cursor = "e-resize";
                    document.getElementById("gallery").removeEventListener("click", prev);
                    document.getElementById("gallery").addEventListener("click", next, false);
                }
                else if(mouseX < divide && mouseY<h){
                    document.getElementById("gallery").style.cursor = "w-resize";
                    document.getElementById("gallery").removeEventListener("click", next);
                    document.getElementById("gallery").addEventListener("click", prev, false);
                }
                else{
                    document.getElementById("gallery").removeEventListener("click", next);
                    document.getElementById("gallery").removeEventListener("click", prev);
                    document.getElementById("gallery").style.cursor = "default";
                }
            });
        }
        else{
            //mobile interactions
            var container = document.querySelector("#gallery");
            container.addEventListener("touchstart", startTouch, false);
            container.addEventListener("touchmove", moveTouch, false);
            // Swipe Up / Down / Left / Right
            var initialX = null;
            var initialY = null;
            //nav scroll init
            navInteraction();
        }
        //mobile
        function startTouch(e) {
          initialX = e.touches[0].clientX;
          initialY = e.touches[0].clientY;
        }
      
        //mobile
        function moveTouch(e) {
          if (initialX === null) {
            return;
          }
          if (initialY === null) {
            return;
          }
          var currentX = e.touches[0].clientX;
          var currentY = e.touches[0].clientY;
          var diffX = initialX - currentX;
          var diffY = initialY - currentY;
          if (Math.abs(diffX) > Math.abs(diffY)) {
            // sliding horizontally, check if on thumbnail
            if (currentY <= (window.innerHeight * 0.70 * 0.75)){
                if (diffX > 0) {
                  next();
                } else {
                  prev();
                }
            }
          } 
      
          initialX = null;
          initialY = null;
      
          //e.preventDefault();
        }
        //deskstop
        function offset(el) {
            var rect = el.getBoundingClientRect();
            scrollLeft = window.pageXOffset || document.documentElement.scrollLeft;
            return { right: rect.right - scrollLeft , left: rect.left };
        }
        
        
//general       
        //general next img function
        function next(){
            //update trackers
            if(indexTracker[projectTracker-1]<projectLength[projectTracker-1]){
                 indexTracker[projectTracker-1]++;
            }
            else{
                 indexTracker[projectTracker-1]=1;
            }
           updateImg();
        }
        //general prev img function
        function prev(){
            //update trackers
            if(indexTracker[projectTracker-1]>1){
                 indexTracker[projectTracker-1]--;
            }
            else{
                 indexTracker[projectTracker-1]=projectLength[projectTracker-1];
            }
            updateImg();
        }
        
        //desktop, move between images on keys
        document.onkeydown = checkKey;
        function checkKey(e) {
            e = e || window.event;
            if (e.keyCode == '38') {
                // up arrow
            }
            else if (e.keyCode == '40') {
                // down arrow
            }
            else if (e.keyCode == '37') {
               // left arrow, go to prev image
               console.log(e);
               prev();
            }
            else if (e.keyCode == '39') {
               // right arrow, go to next image
               console.log(e);
               next();
            }
        
        }
        
        //general update img function
        function updateImg(){
             switch(projectTracker) {
                    case '1':
                        // code block
                        img = document.getElementById('inebriate-STL-image');
                        img.src="img/project_inebriateSTL/"+indexTracker[projectTracker-1]+".jpg";
                        break;
                    case '2':
                        // code block
                        img = document.getElementById('out-there-image');
                        img.src="img/project_outThere/"+indexTracker[projectTracker-1]+".jpg";
                        break;
                    case '3':
                        // code block
                        img = document.getElementById('a-family-affair-image');
                        img.src="img/project_aFamilyAffair/"+indexTracker[projectTracker-1]+".jpg";
                        break;
                    case '4':
                        // code block
                        img = document.getElementById('nyc-on-film-image');
                        img.src="img/project_nycFilm/"+indexTracker[projectTracker-1]+".jpg";
                        break;
                    case '5':
                        // code block
                        img = document.getElementById('modern-orientalism-image');
                        img.src="img/project_modernOrientalism/"+indexTracker[projectTracker-1]+".jpg";
                        break;
                    case '6':
                        // code block
                        img = document.getElementById('colorado-image');
                        img.src="img/project_colorado/"+indexTracker[projectTracker-1]+".jpg";
                        break;
                    case '7':
                        // code block
                        img = document.getElementById('botanic-daydream-image');
                        img.src="img/project_botanicDaydream/"+indexTracker[projectTracker-1]+".jpg";
                        break;
                }
        }
//init      
        //on load
        window.onload = function() {
            init();
        };
        //event listeners for sidebar interactions
        function init(){
            var img =document.querySelectorAll('.sidebar-img-div');
            for(var i=0;i<img.length;i++){
                img[i].addEventListener('mouseenter',enter,false);
                img[i].addEventListener('mouseleave',leave,false);
                img[i].addEventListener("click", click, false);
            }
            
            var link =document.querySelectorAll('.closeAll');
            for(var j=0;j<link.length;j++){
                link[j].addEventListener("click", click2, false);
            }
            var thumbnail =document.querySelectorAll('.thumbnails');
            for(var k=0;k<thumbnail.length;k++){
                var children = thumbnail[k].children;
                for (var l = 0; l < children.length; l++) {
                    children[l].addEventListener("click", thumbnailClick, false);
                    children[l].setAttribute("data-index", l);
                }
            }
        }
        //on thumbnail click move to that image
        function thumbnailClick(){
            var index = parseInt(this.getAttribute("data-index"),10) + 1;
            indexTracker[projectTracker-1]=index;
            updateImg();
        }
//sidebar        
        //sidebar interaction, click on sidebar-img-div 
        function click(){
            var current = window.location.href.substring(0,31);
            //var current = window.location.href.substring(72);
            window.location.href = current+"#"+this.getAttribute('data-project');
            var img =document.querySelectorAll('.sidebar-img-div');
            projectTracker = this.getAttribute('data-index');
            for(var i=0;i<img.length;i++){
                if (img[i]!==this){
                    child = img[i].children[0];
                    $(child).animate({
                        left: "0"
                    },300);
                    caption = img[i].children[1];
                    $(caption).fadeOut('fast');
                }
            }
       }

        //sidebar interaction    
        function click2(){
            var img =document.querySelectorAll('.sidebar-img-div');
            for(var i=0;i<img.length;i++){
                child = img[i].children[0];
                $(child).animate({
                    left: "0"
                },300);
                caption = img[i].children[1];
                $(caption).fadeOut('fast');
            }
            projectTracker=0;
       }
       
        //sidebar interaction    
        function enter(){
                img = this.children[0];
                $(img).animate({
                    left: "-65%"
                },200);
                caption = this.children[1];
                $(caption).fadeIn('slow');
        }
        
        //sidebar interaction    
        function leave(){
                var current = window.location.href.substring(33);
                //var current = window.location.href.substring(73);
                if(this.getAttribute('data-project') != current){
                    img = this.children[0];
                    $(img).animate({
                        left: "0"
                    },300);
                    caption = this.children[1];
                    $(caption).fadeOut('fast');
                }
        }
        
//misc        
        //redirect on refresh, save current project
        window.onunload = function() {
            //store trackers in between sessions
            localStorage.setItem("projectTrackerKey", projectTracker);
        };
        // Listen for orientation changes      
        window.addEventListener("orientationchange", function() {
            // Announce the new orientation number
            location.reload();
        }, false);
//no right click on images
        $('#gallery').on('contextmenu', 'img', function(){ 
            return false; 
        });
        $('#home').on('contextmenu', 'img', function(){ 
            return false; 
        });
//fix back/forward nav and hover/active issues
        $(window).bind('hashchange', function() {
            var current = window.location.href.substring(33);
            switch(current) {
                case 'inebriate-STL':
                    // code block
                    img = document.getElementById('inebriate-STL-tn');
                    refreshSidebar(img);
                    projectTracker = 1;
                    break;
                case 'out-there':
                    // code block
                    img = document.getElementById('out-there-tn');
                    refreshSidebar(img);
                    projectTracker = 2;
                    break;
                case 'a-family-affair':
                    // code block
                    img = document.getElementById('a-family-affair-tn');
                    refreshSidebar(img);
                    projectTracker = 3;
                    break;
                case 'nyc-on-film':
                    // code block
                    img = document.getElementById('nyc-on-film-tn');
                    refreshSidebar(img);
                    projectTracker = 4;
                    break;
                case 'modern-orientalism':
                    // code block
                    img = document.getElementById('modern-orientalism-tn');
                    refreshSidebar(img);
                    projectTracker = 5;
                    break;
                case 'colorado':
                    // code block
                    img = document.getElementById('colorado-tn');
                    refreshSidebar(img);
                    projectTracker = 6;
                    break;
                case 'botanic-daydream':
                    // code block
                    img = document.getElementById('botanic-daydream-tn');
                    refreshSidebar(img);
                    projectTracker = 7;
                    break;
                default:
            }
            var img =document.querySelectorAll('.sidebar-img-div');
            for(var i=0;i<img.length;i++){
                if (i+1 != projectTracker){
                    child = img[i].children[0];
                    $(child).animate({
                        left: "0"
                    },300);
                    caption = img[i].children[1];
                    $(caption).fadeOut('fast');
                }
            }
            console.log(projectTracker);
        });
    </script>
</html>